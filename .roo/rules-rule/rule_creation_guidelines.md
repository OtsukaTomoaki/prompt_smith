# 🧠 RooCode ルール作成ガイドライン

このドキュメントは、VSCode拡張「Roo Code」のルールファイルを作成・管理するためのガイドラインです。ルールファイルはRooCodeが効率的にタスクを実行するための重要な指針となります。

---

## ✅ ルールファイルの目的

- RooCodeが各モードで効率的にタスクを実行するための指針を提供する
- 開発プロセス、コーディング規約、AIの利用方法などを明確に定義する
- チーム開発におけるQCD（品質・コスト・納期）を向上させる
- RooCodeの自律的な判断をサポートし、人間の介入を最小限に抑える

---

## 📋 ルールファイルの基本構成

```
# 🧠 [モード名/機能名] ルール（Roo Code向け）

このドキュメントは、VSCode拡張「Roo Code」で[プロジェクト名]における[モード/機能]を最適化するためのルールセットです。以下の方針に従って[タスク内容]を実行してください。

---

## ✅ [セクション1]
[セクション1の内容]

---

## ✅ [セクション2]
[セクション2の内容]

---

...

## 📚 参考資料
[参考資料のリスト]

---

以上のルールに従って Roo Codeで[タスク内容]を行ってください。
```

---

## 🗂️ ルールファイルのディレクトリ構成

- `.roo/rules-[モードスラッグ]/` ディレクトリにモード別のルールファイルを配置
- 例：`.roo/rules-code/`、`.roo/rules-rule/`、`.roo/rules-create-improvements-plan/`
- 各ディレクトリには、そのモードに関連するルールファイルを配置
- 1つのモードに複数のルールファイルがある場合は、機能や目的ごとに分割

---

## 📝 ルールファイルの命名規則

| 対象                     | 規則                                     | 例                                       |
| :----------------------- | :--------------------------------------- | :--------------------------------------- |
| ディレクトリ名           | `rules-[モードスラッグ]`                 | `rules-code`, `rules-rule`               |
| ファイル名               | スネークケース、内容を反映した明確な名前 | `base.md`, `rule_creation_guidelines.md` |
| 基本ルールファイル       | `base.md`                                | `.roo/rules-code/base.md`                |
| 特定機能のルールファイル | `[機能名].md`                            | `api_integration.md`                     |
| 複合的なルールファイル   | `[カテゴリ]_[詳細].md`                   | `security_best_practices.md`             |

---

## 🔍 ルールファイルの内容作成ガイドライン

### 1. 明確性と具体性

- 抽象的な指示ではなく、具体的なルールを記述する
- 例示やコードサンプルを積極的に活用する
- 「〜すべき」「〜してはならない」など、明確な表現を使用する

### 2. 構造化と整理

- 見出しと階層構造を適切に使用し、情報を整理する
- 関連するルールをグループ化し、論理的な順序で配置する
- 表や箇条書きを活用して、情報を視覚的に整理する

### 3. 包括性と網羅性

- 想定されるケースやシナリオを幅広くカバーする
- エッジケースや例外的な状況についても言及する
- 必要に応じて、判断基準やフローチャートを提供する

### 4. 更新と維持管理

- 日付や版数を記録し、更新履歴を管理する
- 廃止されたルールは削除するか、非推奨として明示する
- 定期的なレビューと更新のサイクルを確立する

---

## 🔄 ルールファイルの自動メンテナンス方針

### 1. 重複の排除

- 複数のルールファイル間で重複する内容を検出し、統合または参照関係を確立する
- 共通のルールは基本ルールファイル（`base.md`）に集約し、特定のルールは専用ファイルに分離する
- 重複を検出した場合は、最も適切な場所に統合し、他の場所からは参照するよう更新する

### 2. 一貫性の確保

- 用語や表現の一貫性を維持する（例：同じ概念に対して常に同じ用語を使用）
- フォーマットや構造の一貫性を保つ（見出しレベル、箇条書きスタイルなど）
- 矛盾するルールがある場合は、優先順位を明確にするか、一方を更新する

### 3. 最新性の維持

- プロジェクトの進化に合わせてルールを更新する
- 新しい技術やベストプラクティスを反映する
- 古くなったルールや参照を定期的に見直し、更新または削除する

### 4. 分割と統合の判断基準

- ルールファイルが300行を超える場合、分割を検討する
- 密接に関連する複数の小さなファイルは、統合を検討する
- 分割する場合は、論理的なまとまりに基づいて行い、適切な名前を付ける

---

## 📊 ルールファイルの効果測定

### 1. 定性的評価

- 開発者からのフィードバックを収集し、ルールの有用性を評価する
- RooCodeの出力品質を定期的にレビューし、ルールの効果を確認する
- ルールの理解しやすさや適用のしやすさを評価する

### 2. 定量的評価

- RooCodeの出力に対する修正回数や修正量を測定する
- タスク完了までの時間や反復回数を記録する
- エラーや問題の発生頻度を追跡する

### 3. 継続的改善

- 評価結果に基づいてルールを定期的に改善する
- 効果の低いルールは見直しまたは削除する
- 高い効果を示すルールは強化または拡張する

---

## 📚 参考資料

- [VSCode拡張開発ドキュメント](https://code.visualstudio.com/api)
- [Markdown記法ガイド](https://www.markdownguide.org/)
- プロジェクト内の既存ルールファイル
  - `.roo/rules-code/base.md`
  - `.roo/rules-create-improvements-plan/create_improvements_plan.md`
- [AIプロンプトエンジニアリングのベストプラクティス](https://platform.openai.com/docs/guides/prompt-engineering)

---

以上のガイドラインに従ってRooCodeのルールファイルを作成・管理してください。適切なルールファイルはRooCodeの効率と品質を大幅に向上させ、開発チームの生産性向上に貢献します。
