# 🧠 AI開発ベストプラクティス（Roo Code向け）

このドキュメントは、VSCode拡張「Roo Code」を活用したAIとの協業開発を最適化するためのルールセットです。以下の方針に従ってAIを活用した開発プロセスを実行してください。

---

## ✅ AI活用の基本原則

### 1. 人間とAIの役割分担

- **人間の役割**：
  - 要件定義と最終判断
  - ビジネスロジックの決定
  - コードレビューと品質保証
  - AIへの適切な指示と評価

- **AIの役割**：
  - コード生成と実装の提案
  - ドキュメント作成と整理
  - 反復的なタスクの自動化
  - 知識ベースとしての活用

### 2. 効果的なプロンプト設計

- 明確で具体的な指示を提供する
- コンテキストと背景情報を十分に含める
- 期待する出力形式や品質基準を明示する
- 複雑なタスクは段階的に分解して指示する

### 3. 品質管理の徹底

- AIが生成したコードは必ず人間がレビューする
- 自動テストと手動テストの両方を実施する
- エッジケースや例外処理の漏れがないか確認する
- セキュリティとパフォーマンスの観点からも評価する

---

## 📋 AI開発プロセス

### 1. 計画フェーズ

- 要件定義書や設計書をAIと共有し、実装計画を立てる
- タスクを明確に分解し、AIに適したタスクを特定する
- 技術的な制約や非機能要件を明確にする
- マイルストーンとタイムラインを設定する

### 2. 実装フェーズ

- 小さな単位で実装を進め、頻繁に検証する
- AIに対して具体的なコード例や既存コードを参照として提供する
- 複雑なロジックは人間が設計し、AIに実装を依頼する
- コードスタイルやアーキテクチャの一貫性を維持する

### 3. レビューフェーズ

- AIが生成したコードを人間が詳細にレビューする
- 自動テストを実行し、カバレッジを確認する
- パフォーマンスとセキュリティの観点からも評価する
- 必要に応じてAIに修正や最適化を依頼する

### 4. 改善フェーズ

- 開発プロセスの振り返りを行い、AIとの協業方法を改善する
- 効果的だったプロンプトや手法を記録し、共有する
- AIの限界や課題を特定し、対策を講じる
- ルールファイルを更新し、次のプロジェクトに活かす

---

## 🛠️ AIとの効果的な協業テクニック

### 1. チェーン・オブ・ソート（思考の連鎖）

- 複雑な問題に対して、AIに段階的な思考プロセスを要求する
- 「まず〜について考え、次に〜を検討し、最後に〜を決定する」という形式
- 例：「まずデータモデルを設計し、次にAPIエンドポイントを定義し、最後に実装コードを生成してください」

### 2. フュー・ショット学習

- 期待する出力の例を2〜3個提示してからタスクを依頼する
- 特にフォーマットや構造が重要な場合に効果的
- 例：「以下の形式でユニットテストを作成してください：[例1][例2]」

### 3. ロールプレイング

- AIに特定の役割や専門性を持たせてタスクを依頼する
- 例：「セキュリティ専門家として、このコードの脆弱性を指摘してください」
- 例：「UX設計者として、このフォームの使いやすさを評価してください」

### 4. 反復的改善

- 最初の出力を基に、具体的なフィードバックを提供して改善を依頼する
- 「〜の部分をより〜にしてください」という形式で指示する
- 完璧を求めるのではなく、段階的に改善していく姿勢を持つ

---

## 📝 AIとの協業におけるコーディング規約

### 1. コード品質

- AIが生成したコードも通常のコーディング規約に準拠すること
- 命名規則、インデント、コメントなどの一貫性を維持する
- 複雑度の高いコードには適切なコメントを付ける
- テスト可能性を考慮した設計を心がける

### 2. ドキュメンテーション

- AIに生成させたコードには必ず適切なドキュメントを付ける
- 関数やクラスの目的、引数、戻り値を明記する
- 複雑なロジックや非自明な実装には詳細な説明を加える
- 将来のメンテナンスを考慮した情報を含める

### 3. エラーハンドリング

- AIに例外処理やエラーハンドリングを明示的に実装させる
- エッジケースや異常系の処理を漏れなく実装する
- ユーザーフレンドリーなエラーメッセージを提供する
- ログ記録と監視を考慮した実装を行う

### 4. セキュリティ対策

- AIに生成させたコードのセキュリティリスクを常に評価する
- 入力検証、認証、認可などのセキュリティ対策を徹底する
- 機密情報の取り扱いに注意し、適切な保護措置を講じる
- 既知の脆弱性パターンをチェックする習慣をつける

---

## 🔄 AIとの協業における継続的改善

### 1. プロンプトライブラリの構築

- 効果的だったプロンプトを収集し、カテゴリ別に整理する
- プロジェクト固有のコンテキストや要件を含めたテンプレートを作成する
- チーム内でプロンプトの知見を共有し、改善していく
- プロンプトの効果を測定し、最適化する

### 2. フィードバックループの確立

- AIの出力に対する評価基準を明確にする
- 良い出力と改善が必要な出力を記録し、パターンを分析する
- AIへのフィードバック方法を標準化し、チーム内で共有する
- 定期的にAIとの協業プロセスを振り返り、改善点を特定する

### 3. 知識ベースの拡充

- プロジェクト固有の知識や専門用語をAIに効果的に伝える方法を確立する
- 頻出する質問や課題に対するプロンプトテンプレートを用意する
- チームの暗黙知を形式化し、AIとの共有を容易にする
- 技術的な変化や新しいベストプラクティスを定期的に取り入れる

---

## 📊 AIとの協業効果の測定

### 1. 定量的指標

- 開発速度（機能実装にかかる時間）
- コード品質（静的解析ツールのスコア、バグ発生率）
- テストカバレッジ（自動テストの網羅率）
- リファクタリング頻度（コード改善の回数）

### 2. 定性的指標

- 開発者体験（AIとの協業の満足度）
- コードの可読性と保守性
- ドキュメントの質と完全性
- 知識共有と学習の効率

### 3. 測定と分析の方法

- 開発メトリクスを定期的に収集し、トレンドを分析する
- AIを活用したタスクと従来の方法を比較する
- チームメンバーからのフィードバックを体系的に収集する
- 成功事例と課題を文書化し、共有する

---

## 📚 参考資料

- [OpenAI APIドキュメント](https://platform.openai.com/docs/introduction)
- [プロンプトエンジニアリングガイド](https://www.promptingguide.ai/)
- [GitHub Copilotドキュメント](https://docs.github.com/en/copilot)
- [AIペアプログラミングのベストプラクティス](https://martinfowler.com/articles/ai-pair-programming.html)
- プロジェクト内の既存ルールファイル
  - `.roo/rules-code/base.md`
  - `.roo/rules-rule/rule_creation_guidelines.md`

---

以上のルールに従ってRoo Codeを活用したAI協業開発を行ってください。AIと人間の強みを組み合わせることで、開発の効率と品質を大幅に向上させることができます。
